window.Fluidvids=function(e,t){"use strict";var n,o,a=t.head||t.getElementsByTagName("head")[0],i=".fluidvids-elem{position:absolute;top:0px;left:0px;max-width:800px;max-height:501px;width:100%;height:100%;}.fluidvids{max-width:800px;max-height:501px;width:100%;position:relative;}",l=function(e){return n=new RegExp("^(https?:)?//(?:"+o.join("|")+").*$","i"),n.test(e)},r=function(e,t,n){var o;return function(){var a=this,i=arguments;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(a,i)},t),n&&!o&&e.apply(a,i)}},s=function(e){var n=t.createElement("div"),o=e.parentNode,a=parseInt(e.height?e.height:e.offsetHeight,10),i=parseInt(e.width?e.width:e.offsetWidth,10),l=a/i*100;o.insertBefore(n,e),e.className+=" fluidvids-elem",n.className+=" fluidvids",n.style.paddingTop=l+"%";var r=parseInt(n.height?n.height:n.offsetHeight);r>=501&&(n.style.paddingTop="501px"),n.appendChild(e)},c=r(function(){for(var e=t.querySelectorAll(".fluidvids"),n=0;n<e.length;n++){var o=e[n].querySelectorAll("iframe")[0],a=parseInt(o.height?o.height:o.offsetHeight,10),i=parseInt(o.width?o.width:o.offsetWidth,10),l=a/i*100;e[n].style.paddingTop=l+"%";var r=parseInt(e[n].height?e[n].height:e[n].offsetHeight);r>=501&&(e[n].style.paddingTop="501px")}},250);e.addEventListener("resize",c);var u=function(){var e=t.createElement("div");e.innerHTML="<p>x</p><style>"+i+"</style>",a.appendChild(e.childNodes[1])},d=function(e){var n=e||{},a=n.selector||"iframe";o=n.players||["www.youtube.com","player.vimeo.com"];for(var i=t.querySelectorAll(a),r=0;r<i.length;r++){var c=i[r];l(c.src)&&s(c)}u()};return{init:d}}(window,document),function(e,t){function n(){function n(e){clearInterval(G),e?(I(M,"boom"),setTimeout(function(){E(25,k),u(V,"next")},700)):(I(M,"boom"),setTimeout(function(){E(25,k),u(V,"previous")},700))}var o,a,i,l,r,s=t.getElementById("js-content-block"),c=150,d=200;e.addEventListener&&(s.addEventListener("touchstart",function(t){if("/"===e.location.pathname){var n=t.changedTouches[0];i=0,o=n.pageX,a=n.pageY,r=(new Date).getTime()}},!1),s.addEventListener("touchmove",function(t){"/"===e.location.pathname&&t.preventDefault()},!1),s.addEventListener("touchend",function(t){if("/"===e.location.pathname){var s=t.changedTouches[0];i=s.pageX-o,l=(new Date).getTime()-r;var u=d>=l&&i>=c&&Math.abs(s.pageY-a)<=100;(i>100||-100>i)&&n(u),t.preventDefault()}},!1))}function o(){for(var e=t.querySelectorAll(".portfolio-list li a"),n=0;n<e.length;n++)x(e[n],U(),Q)}function a(){var e=t.getElementById("js-project-link");e&&x(e,J(),Q);var n=t.getElementById("js-next"),o=t.getElementById("js-previous");n&&x(n,J(),it),o&&x(o,J(),lt)}function i(n){$=!0,clearInterval(G),C.setAttribute("class","container"),C.innerHTML="";var o=t.querySelectorAll(".portfolio-list")[0];o&&o.parentNode.removeChild(o);var a=t.getElementById("view-more");a.style.display="none",a.style.opacity=0;var i=q.querySelectorAll("li");T(_,"white")&&(I(_,"white"),I(D,"white")),K=!1,k.style.display="block",k.style.width="10%",S(M,/\url-\S+/g),A(M,"url-"+L(n));for(var l=0;l<i.length;l++){I(i[l],"sel");var r=i[l].getElementsByTagName("a")[0].getAttribute("href");"/"!==r||"/"!==e.location.pathname&&-1===e.location.pathname.indexOf("/portfolio/")||A(i[l],"sel"),"/about"===r&&"/about"===e.location.pathname&&A(i[l],"sel")}"/"===n||"/index.html"===n?f(n):n.match(/portfolio/)?p(n):h(n)}function l(){var n=function(n){var o=this.parentNode.nextSibling.nextSibling.getBoundingClientRect().top,a=o+s().scrollTop;t.documentElement.scrollTop?s().scrollTop=a:e.scrollBy(0,a),n.preventDefault()},o=t.querySelectorAll(".arrow-down")[0];x(o,J(),n)}function r(){t.body.scrollTop=0}function s(){return t.documentElement||t.body}function c(){clearInterval(G),G=setInterval(function(){I(M,"boom"),setTimeout(function(){E(25,k),u(V,"next")},700)},12e3)}function u(e,n){clearInterval(O),e="previous"===n?e-=1:e+=1,e=e>P.length-1?0:e,e=0>e?P.length-1:e;var o=!1;V=e,C.setAttribute("class","container "+P[e].homestyle);for(var i=C.querySelectorAll("img"),l=0;l<i.length;l++)i[l].style.display="none";var r=t.getElementById(P[e].homestyle);if(r)o=!0;else{var s=new Image;s.src=B+P[e].homeimage,s.id=P[e].homestyle,s.className="js-img",s.alt="homepage project image",C.appendChild(s)}r=t.getElementById(P[e].homestyle);var c=t.getElementById("js-project-link"),u=t.getElementById("js-next"),d=t.getElementById("js-previous");u.setAttribute("data-index",e),d.setAttribute("data-index",e),c.setAttribute("href",P[e].slug),P[e].whitenav?(A(_,"white"),A(D,"white"),K=!0):(I(_,"white"),I(D,"white"),K=!1);var f=50;if(O=setInterval(function(){f+=5,E(f,k)},1e3),o)A(M,"boom"),clearInterval(O),E(100,k),r.style.display="inline-block",r.style.opacity=1;else{var s=new Image;s.onload=function(){A(M,"boom"),clearInterval(O),E(100,k),r.style.display="inline-block",r.style.opacity=1},s.src=r.getAttribute("src")}a()}function d(n){var a=new XMLHttpRequest;a.open("GET","/partials/portfolio.html"),a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){n.style.display="block",n.style.opacity=1;var i=t.createElement("div");i.innerHTML=a.responseText,n.parentNode.insertBefore(i.childNodes[1],t.getElementsByTagName("footer")[0]);for(var l=t.querySelectorAll(".portfolio-list li a img"),r=0;r<l.length;r++)y(l[r],80*r);o()}else e.location.href=href},a.send()}function f(n){var a=new XMLHttpRequest;a.addEventListener("progress",function(e){w(e,k)},!1),a.open("GET","/partials/portfolio.html"),a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){t.title="Mike Kus • "+t.querySelectorAll(".page-foot__strap")[0].innerHTML,E(100,k),C.innerHTML=a.responseText;for(var i=C.querySelectorAll("img"),l=0;l<i.length;l++)y(i[l],80*l);o(),r()}else e.location.href=n},a.send()}function p(n){console.log(1,n);var o=0,a=0,i=75,s="/collections/"+n.replace("/portfolio/","")+".json";console.log(s);var c=new XMLHttpRequest;c.addEventListener("progress",function(e){w(e,k)},!1),c.open("GET",s),c.onreadystatechange=function(){if(4===c.readyState)if(200===c.status){E(75,k);var s=JSON.parse(c.responseText);console.log(s),C.innerHTML=s.collection[0].body,o=C.querySelectorAll("img").length,a=Math.ceil(25/o),t.title="Portfolio: "+s.collection[0].title+" : Mike Kus • "+t.querySelectorAll(".page-foot__strap")[0].innerHTML;for(var u=C.querySelectorAll("img"),d=[],f=0,p=0;p<u.length;p++)d[p]=new Image,d[p].onload=function(){if(f++,i+=a,E(i,k),f===u.length-1){r(),E(100,k),t.querySelectorAll(".portfolio-item__header")[0].innerHTML+='<a class="arrow-down" href="#jump" id="jump"></a>',l();for(var e=C.querySelectorAll("section"),n=0;n<e.length;n++)e[n].style.opacity=1}},d[p].src=u[p].getAttribute("src");$=!1,Fluidvids.init({selector:"iframe",players:["www.youtube.com","player.vimeo.com"]})}else e.location.href=n},c.send()}function h(n){console.log("/partials"+n+".html");var o=new XMLHttpRequest;o.addEventListener("progress",function(e){w(e,k)},!1),o.open("GET","/partials"+n+".html"),o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){if(t.title="Mike Kus • "+t.querySelectorAll(".page-foot__strap")[0].innerHTML,E(100,k),console.log(o.responseText),C.innerHTML=o.responseText,r(),"/about"===n&&(t.querySelectorAll(".portfolio-item__header")[0].innerHTML+='<a class="arrow-down" href="#jump" id="jump"></a>',l()),"/about"===n||"/contact"===n){var a=t.getElementById("js-get-in-touch");a&&a.addEventListener(J(),Q,!1);var i=0,s=0,c=0;st=C.querySelectorAll("img"),i=st.length,s=Math.ceil(100/i);for(var u=0;u<st.length;u++)c+=s,E(c,k),v(st[u],80*u,c);for(var d=t.querySelectorAll(".portfolio-list li img"),u=0;u<d.length;u++)y(d[u],80*u)}}else e.location.href=n},o.send()}function m(){var e=g(t.getElementsByTagName("html")[0],"max-width").replace("px",""),n=t.querySelectorAll("meta[name=viewport]")[0];"none"!=e?n.setAttribute("content","width="+e+",initial-scale=1"):n.setAttribute("content","width=device-width,initial-scale=1")}function g(e,n){var o,a=(e.ownerDocument||t).defaultView;return a&&a.getComputedStyle?(n=n.replace(/([A-Z])/g,"-$1").toLowerCase(),a.getComputedStyle(e,null).getPropertyValue(n)):e.currentStyle?(n=n.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),o=e.currentStyle[n],/^\d+(em|pt|%|ex)?$/i.test(o)?function(t){var n=e.style.left,o=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=n,e.runtimeStyle.left=o,t}(o):o):void 0}function v(e,t,n){var o=new Image;o.onload=function(){if(n)for(var e=C.querySelectorAll("section"),t=0;t<e.length;t++)e[t].style.opacity=1},o.src=e.getAttribute("src")}function y(e,t){var n=new Image;n.onload=function(){setTimeout(function(){e.style.opacity=1},t)},n.src=e.getAttribute("src")}function w(e,t){e.lengthComputable?t.style.width=e.loaded/e.total*100+"%":E(50,t)}function E(e,t){t.style.width=e+"%",e>=100&&setTimeout(function(){t.style.display="none"},350)}function b(t){"pushState"in history?history.pushState(null,null,t):e.location.href=t}function T(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")}function A(e,t){e&&!T(e,t)&&(e.className+=" "+t)}function I(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(T(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}function S(e,t){var n=e.className.match(t);I(e,n)}function L(e){return e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}function x(t,n,o){e.addEventListener?t.addEventListener(n,o,!1):t.attachEvent("on"+n,o)}var B="",j=t.getElementsByTagName("body")[0],q=t.getElementById("js-menu-nav"),H=t.getElementById("js-social-nav");j.innerHTML+='<div id="page-loader" style="display: none;"></div>';var M=t.getElementsByTagName("html")[0],N=t.getElementById("js-overlay"),k=t.getElementById("page-loader"),C=t.getElementById("js-content-block"),_=t.getElementById("js-page-head"),D=t.getElementById("js-project-nav"),R=t.getElementById("js-footer-nav"),X=t.getElementById("js-menu");q=t.getElementById("js-menu-nav"),H=t.getElementById("js-social-nav");var O,G,Y=!1,$=!1,F=location.href,K=T(_,"white"),P=[],V=0;if(!T(M,"svg")){var W=t.getElementsByTagName("noscript")[0],z=W.childNodes[0].data;t.head.innerHTML+=z}var J=function(){return e.addEventListener?"ontouchstart"in e?"touchstart":"click":"click"},U=function(){return"click"},Z=function(t){N.setAttribute("data-state","visible"===N.getAttribute("data-state")?"hidden":"visible"),this.setAttribute("data-state","open"===this.getAttribute("data-state")?"closed":"open"),"open"===this.getAttribute("data-state")&&K?(I(_,"white"),I(D,"white")):K&&(A(_,"white"),A(D,"white")),"open"===this.getAttribute("data-state")?clearInterval(G):"/"===e.location.pathname&&c(),t.preventDefault()};x(X,J(),Z);for(var Q=function(e){var t=this.getAttribute("href");C.innerHTML="",N&&(N.setAttribute("data-state","hidden"),X.setAttribute("data-state","hidden")),b(t),i(t),e.preventDefault()},et=N.querySelectorAll(".menu-nav li a"),tt=0;tt<et.length;tt++)x(et[tt],J(),Q);for(var nt=q.querySelectorAll("li a"),ot=R.querySelectorAll("li a"),tt=0;tt<nt.length;tt++)x(nt[tt],J(),Q);for(var tt=0;tt<ot.length;tt++)x(ot[tt],J(),Q);var at=t.getElementById("js-get-in-touch");at&&x(at,J(),Q),(e.location.pathname.match(/portfolio/)||"/"===e.location.pathname)&&o();var it=function(e){clearInterval(G),I(M,"boom"),setTimeout(function(){E(25,k),u(V,"next")},700),e.preventDefault()},lt=function(e){clearInterval(G),I(M,"boom"),setTimeout(function(){E(25,k),u(V,"previous")},700),e.preventDefault()};n(),e.addEventListener&&e.addEventListener("keyup",function(n){if("/"===e.location.pathname){if(38===n.keyCode||40===n.keyCode){var o=t.getElementById("js-project-link");i(o.getAttribute("href"))}39===n.keyCode&&(clearInterval(G),I(M,"boom"),setTimeout(function(){E(25,k),u(V,"next")},700)),37===n.keyCode&&(clearInterval(G),I(M,"boom"),setTimeout(function(){E(25,k),u(V,"previous")},700)),n.preventDefault()}},!1),a(),Fluidvids.init({selector:"iframe",players:["www.youtube.com","player.vimeo.com"]}),setTimeout(function(){A(M,"boom")},100),e.addEventListener&&(m(),e.addEventListener("orientationchange",function(){m()},!1));var rt=t.querySelectorAll(".portfolio-item__header")[0];if(rt&&"/contact"!=e.location.pathname&&(rt.innerHTML+='<a class="arrow-down" href="#jump" id="jump"></a>',l()),"/portfolio"===e.location.pathname||"/about"===e.location.pathname||"/index.html"===e.location.pathname||"/"===e.location.pathname)for(var st=t.querySelectorAll(".portfolio-list li img"),tt=0;tt<st.length;tt++)y(st[tt],80*tt);if(e.location.pathname.match(/portfolio/)||"/about"===e.location.pathname||"/contact"===e.location.pathname){var ct=0,ut=0,dt=0;st=C.querySelectorAll("img"),ct=st.length,ut=Math.ceil(100/ct);for(var tt=0;tt<st.length;tt++)dt+=ut,E(dt,k),v(st[tt],80*tt,dt)}e.addEventListener&&(e.addEventListener("popstate",function(){var t=!Y&&location.href==F;Y=!0,t||("/"===location.pathname&&(e.location.href="/"),i(location.pathname))},!1),e.addEventListener("scroll",function(){var n=t.getElementById("view-more");if(n&&"/portfolio"!=e.location.pathname&&e.location.pathname.match(/portfolio/)){var o=t.documentElement.clientHeight,a=e.pageYOffset?e.pageYOffset+e.innerHeight:t.documentElement.scrollTop+e.innerHeight;a>o-500&&!$&&($=!0,d(n))}},!1))}(window,document);